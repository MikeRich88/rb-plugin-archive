<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<title>dmGraphicUtilities-Plugin for RealBasic</title>		<script language="JavaScript"><!--function st(text){	self.status=text;	return true;}function nost(){	self.status=""	return true;}// -->		</script>	<link rel="stylesheet" href="../../common/common.css" type="text/css"><link rel="stylesheet" href="../stylesheets.css" type="text/css"></head>	<body bgcolor="white" text="black"><table cool width="535" height="1063" border="0" cellpadding="0" cellspacing="0" gridx="16" showgridx gridy="16" showgridy>  <tr height="1" cntrlrow>     <td width="1" height="1"></td>    <td width="175" height="1"><spacer type="block" width="175" height="1"></td>    <td width="357" height="1"><spacer type="block" width="357" height="1"></td>  </tr>  <tr height="91">     <td width="1" height="93"><spacer type="block" width="1" height="91"></td>    <td width="175" height="93"></td>    <td width="357" height="93"></td>  </tr>  <tr height="969">     <td width="1" height="969"><spacer type="block" width="1" height="969"></td>    <td width="175" height="969"></td>    <td width="357" height="969" colspan="1" rowspan="1" valign="top" align="left" xpos="175" content csheight="969">       <p class="headline">dmGraphicUtilities Plugin V0.12</p>      <p class="normal"><br>        This plugin is a quick hack, but works fine on my computer and with my         realbasic 2.1.2. Use it on your own risk, there is NO warranty.</p>      <p class="normal">Download: <a href="dmGraphicUtilities.sit.bin">dmGraphicUtilities.sit.bin</a><br>      </p>      <p class="headline">What it does:</p>      <p class="eingerueckt"><span class="normal">The plugin provides 6 PPC/Carbon-functions:</span></p>      <p class="sourcecode">dm_StringtoPicture(data as string,filename as string,mimetype         as string) as picture</p>      <p class="eingerueckt"><span class="normal">converts picture data provided         in &lt;data&gt; into a Picture-object (detailed description below)</span></p>      <p class="sourcecode">dm_StringToPictureByOSType(data as string, osType         as string) as picture</p>      <p class="normal">works like <span class="sourcecode">dm_StringToPicture</span>,         but doesn't try to guess the format of the data. You must provide a four-letter-code         (an OSType) which describe the format of the data. </p>      <p class="normal">Here is the snippet from QuicktimeComponents.h which describes         the several OSTypes</p>      <p class="sourcecode">enum {<br>        kQTFileTypePicture = FOUR_CHAR_CODE('PICT'),<br>        kQTFileTypePICS = FOUR_CHAR_CODE('PICS'),<br>        kQTFileTypeGIF = FOUR_CHAR_CODE('GIFf'),<br>        kQTFileTypePNG = FOUR_CHAR_CODE('PNGf'),<br>        kQTFileTypeTIFF = FOUR_CHAR_CODE('TIFF'),<br>        kQTFileTypePhotoShop = FOUR_CHAR_CODE('8BPS'),<br>        kQTFileTypeSGIImage = FOUR_CHAR_CODE('.SGI'),<br>        kQTFileTypeBMP = FOUR_CHAR_CODE('BMPf'),<br>        kQTFileTypeJPEG = FOUR_CHAR_CODE('JPEG'),<br>        kQTFileTypeJFIF = FOUR_CHAR_CODE('JPEG'),<br>        kQTFileTypeMacPaint = FOUR_CHAR_CODE('PNTG'),<br>        kQTFileTypeTargaImage = FOUR_CHAR_CODE('TPIC'),<br>        kQTFileTypeQuickDrawGXPicture = FOUR_CHAR_CODE('qdgx'),<br>        kQTFileTypeQuickTimeImage = FOUR_CHAR_CODE('qtif'),<br>        };</p>      <p class="normal">There is (notyet) any error-handling. You'll get NIL,         if something went wrong...</p>      <p class="sourcecode">dm_ScrollRect(g as graphics, x1 as integer, y1 as         integer, x2 as integer, y2 as integer, deltax as integer, deltay as integer)</p>      <p class="eingerueckt"><span class="normal">scrolls a rect in graphics &lt;g&gt;         by &lt;deltax&gt;,&lt;deltay&gt;. Is faster as with realbasic methods         (drawpicture)</span></p>      <p class="sourcecode">dm_BeginPostscript(g as grphics)<br>        dm_EndPostScript(g as graphics)<br>        dm_SendPostScript(g as graphics, data as string)</p>      <p class="eingerueckt"><span class="normal">These functions embed postscript-data         into a graphics-object. This is ideal to embed postscript-data when printing.         For more informations visit the developer-section if apple and search         for PicComment.<br>        For Printing Postscript-files you will add this or similar code to your         project:</span></p>      <p class="sourcecode">g=openprinter(tmyPrinterSetup)<br>        g.drawstring ...<br>        .<br>        .<br>        .<br>        // add data from postscriptfile<br>        tPostScriptData=tPostScriptFile.readall<br>        // attach data to the graphics:<br>        dm_BeginPostScript(g)<br>        dm_SendPostscript(g,&quot;initgraphics&quot;+chr(13))<br>        dm_SendPostScript(g,tPostScriptData+chr(13))<br>        dm_endPostScript(g)</p>      <p class="eingerueckt"><span class="normal">These line add a postscript/eps-file         to your printjob. Your postscript-commands are embedded with gsave and         grestore, so you should initialize the postscript-vm with &quot;initgraphics&quot;         to get a proper state. Quickdraw-drawings before the postscript-embedding         can overdraw your postscript-code, subsequent quickdraw-drawing can averdraw         your postscript-drawing. If you encounter problems with printing postscript,         check for missing carriage-returns. </span></p>      <p class="eingerueckt"><span class="normal">Sorry, doesn't work under OSX.         Don't know why...</span></p>      <p class="sourcecode">dm_StringtoPicture(data as string,filename as string,mimetype         as string) as picture</p>      <p class="normal">This function &quot;converts&quot; the given string into         a picture. It uses for some quicktime-technology. If you want to know         more then visit &lt;<a href="http://developer.apple.com/qa/qtmtb/qtmtb56.html" target="_blank">http://developer.apple.com/qa/qtmtb/qtmtb56.html</a>&gt;<br>        data: is the complete image-information read from a file or received from         a socket. <br>        filename: (optional, provide a blank string if you don't know it)<br>        If you know the filename of the source, then provide it here. Quicktime         has then the ability to guess what format the picture is and has not to         examine the data. Probably faster than without a filename.<br>        mimetype: (optional, provide a blank string if you don't know it)<br>        If you know the mimeType of the data then provide it here. Quicktime has         then the ability to guess what format the picture is and has not to examine         the data. Probably faster than without a mimetype.<br>        You get a Picture back. This functions can convert any type of images         as quicktime can.</p>      <p class="eingerueckt"><span class="headline">The demo-project:</span></p>      <p class="eingerueckt"><span class="normal">There is a demo-project. It         reads a picturefile into a string (threaded) and &quot;convert&quot; the         data into a valid picture. You will notice after the loading a pause.         This time is used to draw the image on the screen! The converting is done         when the progressbar is in spinning-mode. After that, it will be drawn.         And that costs the time.</span></p>      <p class="eingerueckt"><span class="normal">you can test the scrollrect-function.         drag the picture with your mouse. it can be a lot faster when scrolling         offscreen-buffers. test it. it works 2times faster for my projects.</span></p>      <p class="eingerueckt"><br>        <span class="headline">Bugs:</span></p>      <p class="eingerueckt"><span class="normal">There is also no windows-version         because of the use of quicktime. it should be possible to make one for         x86 but i don't know how. the same for 68k. If you want the source Code         (CW 5) then send me an email: &lt;<a href="mailto:%20ratzfatz@digitalmind.de">mailto:         ratzfatz@digitalmind.de</a>&gt;</span></p>      <p class="eingerueckt"><span class="normal">The StringtoPicture-function         fails on some pictures. Try increasing memory. If you use DCon (a debugging         console) you can see an error-number. I will add later an error-mechanism.         If this function fails then f.openaspicture will also fail, this is my         experience...</span></p>      <p class="eingerueckt"><span class="normal">the PostScript-embedding doesn't         work under OSX. Don't know why...</span></p>      <p class="eingerueckt"><span class="headline">Credits:</span></p>      <p class="normal">Thanks to Thomas Tempelmann (http://www.tempel.org) for         the excellent plugin-starter-kit! And of course to Apple for the Quicktime-technology..</p>      <p class="eingerueckt"><span class="headline">History:</span></p>      <p class="eingerueckt"><span class="normal">16. July 2001 dm_StringToPictureByOSType         added<br>        </span><span class="normal">21. April 2001 new function, some bugfixes,         Carbon-ready and removed quicktime-dependency. will act fine in environments         without quicktime<br>        03. Feb 2001 first release<br>        Visit &lt;<a href="http://www.digitalmind.de/realbasic">http://www.digitalmind.de/realbasic</a>&gt;         for new versions...</span></p>      <p class="eingerueckt"><span class="headline">License:</span></p>      <p class="eingerueckt"><span class="normal">This plugin is freeware. There         is no warranty. Use at your own risk. Give me credit if you use it in         your programs.<br>        Have fun, Stephan</span></p>      <p class="eingerueckt"><span class="normal"><br>        &lt;<a href="mailto:%20ratzfatz@digitalmind.de">mailto: ratzfatz@digitalmind.de</a>&gt;         </span> </p>    </td>  </tr></table>	</body></html>